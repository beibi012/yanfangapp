(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/property_inspection/developer/all_flats/take_notes"],{"2bd5":function(e,t,o){},"448f":function(e,t,o){"use strict";(function(e,o){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={onLoad:function(t){n=this,console.log(e(t," at pages/property_inspection/developer/all_flats/take_notes.vue:224")),n.psId=t.psId,n.psName=t.psName,n.prName=t.prName,console.log(e(n.obj," at pages/property_inspection/developer/all_flats/take_notes.vue:228"))},onShow:function(){o.$on("company",function(t){console.log(e("company携带参数 msg 为："+t.msg," at pages/property_inspection/developer/all_flats/take_notes.vue:238")),n.company=t.msg,console.log(e(n.company," at pages/property_inspection/developer/all_flats/take_notes.vue:240"))}),o.$on("problem",function(t){console.log(e("problem 携带参数 msg 为："+t.msg," at pages/property_inspection/developer/all_flats/take_notes.vue:243")),n.obj=t.msg,console.log(e(n.obj," at pages/property_inspection/developer/all_flats/take_notes.vue:245")),n.pr=n.obj.main+"-"+n.obj.item+"-"+n.obj.describe,n.main=n.obj.main,n.item=n.obj.item,n.describe=n.obj.describe})},data:function(){return{psId:"",psName:"",prName:"",cookies:"",imgList:"",chioce:!0,array1:["客厅","房间","厨房","厕所"],array2:["墙纸","电器设施","墙面","石材、瓷砖","木地板","渗漏类","天花","窗"],array3:["不平整","长毛、发霉","涂料破损","开裂","空鼓","其他"],array4:[],index_p:0,main:"",item:"",describe:"",obj:{},pr:"选择部位部品描述",company:"选择责任单位",index1:0,index2:0,index3:0,pic_index:0,pic:[],preview:[],vde_index:0,vde:[],id:[],vdecss:"position: fixed; top: 0; left: 0; width: 750upx; height: 750upx; z-index: 100; margin:0;",big:-1,vdebutton:" position: fixed; bottom: -250upx;width: 100%;",show:1,previewvde:-1,del:[],takenotes:[],note:0,date:"",submitted:!1,problem:[],obj_array:[],newobj:{},moreinfo_value:"",toleft:"toleft",toright:"toright",standard:"",angle1:"",angle2:"",angle3:"",angle4:"",angle5:"",Dvalue:"",jc:{},jcArr:[],JCtrue:!1,red:"",enterinput:!0}},methods:{changeMain1:function(e){n.index1=e.detail.value},changeMain2:function(e){n.index2=e.detail.value},changeMain3:function(e){n.index3=e.detail.value},addPic:function(){o.chooseImage({count:5,sizeType:["original","compressed"],success:function(t){t.tempFilePaths.forEach(function(e){if(n.pic_index+n.vde_index>4)return o.showToast({title:"最多选五张",icon:"none"}),!1;n.pic[n.pic_index]=e,n.pic_index++}),console.log(e(n.pic_index," at pages/property_inspection/developer/all_flats/take_notes.vue:342")),console.log(e(n.pic," at pages/property_inspection/developer/all_flats/take_notes.vue:343"))}})},delPic:function(e){for(var t=n.pic_index-e,o=0;o<t;o++)n.pic[e+o]=n.pic[e+o+1],n.pic.splice(e+o+1,0);n.pic.pop(),n.pic_index--},previewPic:function(e){n.preview=n.pic,o.previewImage({current:e,urls:n.preview})},previewImg:function(e,t){n.preview[0]=n.problem[t][0].pic_array[e],o.previewImage({urls:n.preview})},toBig:function(e){n.big=e},playVideo:function(e){n.big=e,n.previewvde=e,n.vdebutton=" position: fixed; bottom: 0;width: 100%;transition-duration: 0.2s;"},pauseVideo:function(){n.vdebutton=" position: fixed; bottom: 0;width: 100%; z-index: 20;transition-duration: 0.2s; "},stopVideo:function(){n.big=-1,n.previewvde=-1,n.show=0,setTimeout(function(){n.show=1},1)},delVideo:function(e){n.big=-1,n.previewvde=-1;for(var t=n.vde_index-e,o=0;o<t;o++)n.vde[e+o]=n.vde[e+o+1],n.vde.splice(e+o+1,0);n.vde.pop(),n.vde_index--,n.show=0,setTimeout(function(){n.show=1},1)},takenotes_submit:function(t){console.log(e(t.detail.value," at pages/property_inspection/developer/all_flats/take_notes.vue:446")),o.getStorage({key:"cookies",success:function(t){n.cookies=t.data,console.log(e("监测获取到cookies值为:"+n.cookies," at pages/property_inspection/developer/all_flats/take_notes.vue:451"))}});var a=getApp();if(console.log(e(a.globalData.ctx," at pages/property_inspection/developer/all_flats/take_notes.vue:455")),void 0!==n.pic[0]){console.log(e("有图片"," at pages/property_inspection/developer/all_flats/take_notes.vue:457"));for(var l=function(l){o.uploadFile({url:a.globalData.ctx+"/common/uploadFileUnify",fileType:"image",header:{"Content-type":"application/x-www-form-urlencoded",Cookie:n.cookies},name:"files",filePath:n.pic[l],success:function(t){o.showToast({title:"上传成功"}),console.log(e(t.data," at pages/property_inspection/developer/all_flats/take_notes.vue:472"));var a=JSON.parse(t.data).fileIds;n.imgList=n.imgList+a,console.log(e(n.imgList," at pages/property_inspection/developer/all_flats/take_notes.vue:475"))},fail:function(){o.showToast({title:"上传失败"})},complete:function(){l==n.pic.length-1&&(n.imgList=n.imgList.substring(0,n.imgList.length-1),console.log(e(n.imgList," at pages/property_inspection/developer/all_flats/take_notes.vue:524")),o.request({url:a.globalData.ctx+"/home/problem/rs/addProblemdescribeSave",header:{"Content-type":"application/json",Cookie:n.cookies},method:"post",data:{pdLoca:n.obj.main,pdLocation:n.obj.main,pdContent:n.obj.main,pdAdded:t.detail.value.moreinfo,pdRecorderName:n.company,pdState:"1",psId:n.psId,pdPhotoa:n.imgList},success:function(t){console.log(e(t," at pages/property_inspection/developer/all_flats/take_notes.vue:543")),o.showToast({title:"上传成功",icon:"none"}),o.showModal({title:"提示",content:"是否添加新问题",confirmText:"添加",cancelText:"不添加",cancelColor:"#f00",success:function(t){t.confirm?(console.log(e("用户点击确定"," at pages/property_inspection/developer/all_flats/take_notes.vue:556")),n.moreinfo_value="",n.index1=0,n.index2=0,n.index3=0,n.pic=[],n.pic_index=0,n.imgList=[],o.pageScrollTo({scrollTop:0,duration:300})):t.cancel&&(console.log(e("用户点击取消"," at pages/property_inspection/developer/all_flats/take_notes.vue:569")),o.navigateBack({delta:1}))}})},fail:function(){o.showToast({title:"数据请求错误",icon:"none"}),setTimeout(function(){o.hideToast()},1e3)},complete:function(){}}))}})},i=0;i<n.pic.length;i++)l(i)}else console.log(e("没有图片"," at pages/property_inspection/developer/all_flats/take_notes.vue:595")),o.showModal({title:"提示",content:"是否确定不添加图片",success:function(l){l.confirm?o.request({url:a.globalData.ctx+"/home/problem/rs/addProblemdescribeSave",header:{"Content-type":"application/json",Cookie:n.cookies},method:"post",data:{pdLoca:n.array1[t.detail.value.takenotes_main],pdLocation:n.array2[t.detail.value.takenotes_checkitem],pdContent:n.array3[t.detail.value.takenotes_problem],pdAdded:t.detail.value.moreinfo,pdPhotobs:n.imgList},success:function(t){console.log(e(t," at pages/property_inspection/developer/all_flats/take_notes.vue:616")),o.showToast({title:"上传成功",icon:"none"}),o.showModal({title:"提示",content:"是否添加新问题",confirmText:"添加",cancelText:"不添加",cancelColor:"#f00",success:function(t){t.confirm?(console.log(e("用户点击确定"," at pages/property_inspection/developer/all_flats/take_notes.vue:629")),n.moreinfo_value="",n.index1=0,n.index2=0,n.index3=0,o.pageScrollTo({scrollTop:0,duration:300})):t.cancel&&(console.log(e("用户点击取消"," at pages/property_inspection/developer/all_flats/take_notes.vue:639")),o.navigateBack({delta:1}))}})},fail:function(){o.showToast({title:"数据请求错误",icon:"none"}),setTimeout(function(){o.hideToast()},1e3)},complete:function(){}}):l.cancel&&console.log(e("用户点击取消"," at pages/property_inspection/developer/all_flats/take_notes.vue:661"))}})},addnotes:function(t){o.showModal({title:"提示",content:"点击确定后问题不可更改,可添加新问题",success:function(o){o.confirm?(console.log(e(n.note," at pages/property_inspection/developer/all_flats/take_notes.vue:674")),n.obj_array[n.note]=new Object,n.obj_array[n.note].takenotes_main=n.array1[t.detail.value.takenotes_main],n.obj_array[n.note].takenotes_checkitem=n.array2[t.detail.value.takenotes_checkitem],n.obj_array[n.note].takenotes_problem=n.array3[t.detail.value.takenotes_problem],n.obj_array[n.note].moreinfo=t.detail.value.moreinfo,n.obj_array[n.note].pic_array=n.pic.concat(),n.obj_array[n.note].vde_array=n.vde.concat(),n.obj=JSON.parse(JSON.stringify(n.obj_array[n.note])),n.problem[n.note]=new Array,n.problem[n.note].push(n.obj),console.log(e(n.problem," at pages/property_inspection/developer/all_flats/take_notes.vue:685")),n.takenotes.push(n.note),n.note++,n.submitted=!0,n.pic.length=0,n.vde.length=0,n.pic_index=0,n.vde_index=0,n.moreinfo_value=""):o.cancel&&console.log(e("用户点击取消"," at pages/property_inspection/developer/all_flats/take_notes.vue:695"))}})},pickDate:function(e){n.date=e.detail.value},choiceProblem:function(){n.toright="toleft",n.array4=n.array1,n.index_p=0,console.log(e(n.obj," at pages/property_inspection/developer/all_flats/take_notes.vue:707"))},choiceMain:function(t){return console.log(e(t," at pages/property_inspection/developer/all_flats/take_notes.vue:710")),0==n.index_p?(n.main=t,n.array4=n.array2,void n.index_p++):1==n.index_p?(n.item=t,n.array4=n.array3,void n.index_p++):void(2==n.index_p&&(n.describe=t,n.index_p++,n.pr=n.main+"-"+n.item+"-"+n.describe,n.toright="toright"))},enterStandard:function(t){n.standard=t.detail.value,console.log(e(n.standard," at pages/property_inspection/developer/all_flats/take_notes.vue:732")),""!==n.standard?n.enterinput=!1:n.enterinput=!0},enterAngle1:function(e){n.angle1=parseInt(e.detail.value)},enterAngle2:function(e){n.angle2=parseInt(e.detail.value)},enterAngle3:function(e){n.angle3=parseInt(e.detail.value)},enterAngle4:function(e){n.angle4=parseInt(e.detail.value)},enterAngle5:function(e){n.angle5=parseInt(e.detail.value)},enterAngleJC1:function(t){for(var o in n.angle1=t.detail.value,n.jc.angle1=n.angle1,""==n.jc.angle1&&delete n.jc.angle1,console.log(e(n.jc," at pages/property_inspection/developer/all_flats/take_notes.vue:761")),n.jcArr=[],n.jc)n.jcArr.push(n.jc[o]);console.log(e(n.jcArr," at pages/property_inspection/developer/all_flats/take_notes.vue:766")),n.jcArr.length>1&&(n.jcArr.sort(function(e,t){return e-t}),n.Dvalue=parseInt(n.jcArr[n.jcArr.length-1]-n.jcArr[0]))},enterAngleJC2:function(t){for(var o in n.angle2=t.detail.value,n.jc.angle2=n.angle2,""==n.jc.angle2&&delete n.jc.angle2,console.log(e(n.jc," at pages/property_inspection/developer/all_flats/take_notes.vue:780")),n.jcArr=[],n.jc)n.jcArr.push(n.jc[o]);console.log(e(n.jcArr," at pages/property_inspection/developer/all_flats/take_notes.vue:785")),n.jcArr.length>1&&(n.jcArr.sort(function(e,t){return e-t}),n.Dvalue=parseInt(n.jcArr[n.jcArr.length-1]-n.jcArr[0]))},enterAngleJC3:function(t){for(var o in n.angle3=t.detail.value,n.jc.angle3=n.angle3,""==n.jc.angle3&&delete n.jc.angle3,console.log(e(n.jc," at pages/property_inspection/developer/all_flats/take_notes.vue:799")),n.jcArr=[],n.jc)n.jcArr.push(n.jc[o]);console.log(e(n.jcArr," at pages/property_inspection/developer/all_flats/take_notes.vue:804")),n.jcArr.length>1&&(n.jcArr.sort(function(e,t){return e-t}),n.Dvalue=parseInt(n.jcArr[n.jcArr.length-1]-n.jcArr[0]))},enterAngleJC4:function(t){for(var o in n.angle4=t.detail.value,n.jc.angle4=n.angle4,""==n.jc.angle4&&delete n.jc.angle4,console.log(e(n.jc," at pages/property_inspection/developer/all_flats/take_notes.vue:818")),n.jcArr=[],n.jc)n.jcArr.push(n.jc[o]);console.log(e(n.jcArr," at pages/property_inspection/developer/all_flats/take_notes.vue:823")),n.jcArr.length>1&&(n.jcArr.sort(function(e,t){return e-t}),n.Dvalue=parseInt(n.jcArr[n.jcArr.length-1]-n.jcArr[0]))},enterAngleJC5:function(t){for(var o in n.angle5=t.detail.value,n.jc.angle5=n.angle5,""==n.jc.angle5&&delete n.jc.angle5,console.log(e(n.jc," at pages/property_inspection/developer/all_flats/take_notes.vue:837")),n.jcArr=[],n.jc)n.jcArr.push(n.jc[o]);console.log(e(n.jcArr," at pages/property_inspection/developer/all_flats/take_notes.vue:842")),n.jcArr.length>1&&(n.jcArr.sort(function(e,t){return e-t}),n.Dvalue=parseInt(n.jcArr[n.jcArr.length-1]-n.jcArr[0]))},tipEnter:function(){""==n.standard&&(n.enterinput=!0,o.showToast({title:"请先输入标准值",icon:"none"}))},jugeJC:function(t){n.enterinput=!0,n.standard="",n.angle1="",n.angle2="",n.angle3="",n.angle4="",n.angle5="",console.log(e(t.detail.value," at pages/property_inspection/developer/all_flats/take_notes.vue:867")),"JCtrue"==t.detail.value?n.JCtrue=!0:n.JCtrue=!1}}};t.default=a}).call(this,o("0de9")["default"],o("6e42")["default"])},"6cfa":function(e,t,o){"use strict";o.r(t);var n=o("448f"),a=o.n(n);for(var l in n)"default"!==l&&function(e){o.d(t,e,function(){return n[e]})}(l);t["default"]=a.a},"7ea8":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},a5e2:function(e,t,o){"use strict";var n=o("2bd5"),a=o.n(n);a.a},e275:function(e,t,o){"use strict";o.r(t);var n=o("7ea8"),a=o("6cfa");for(var l in a)"default"!==l&&function(e){o.d(t,e,function(){return a[e]})}(l);o("a5e2");var i=o("2877"),r=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},f7f9:function(e,t,o){"use strict";(function(e){o("a24d"),o("921b");n(o("66fd"));var t=n(o("e275"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])}},[["f7f9","common/runtime","common/vendor"]]]);