(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/property_inspection/developer/simulate/problem_details"],{"15f7":function(e,t,o){},3748:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=(e._self._c,e.getData[0].pdDate.substr(0,11));e.$mp.data=Object.assign({},{$root:{g0:o}})},a=[];o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a})},5420:function(e,t,o){"use strict";o.r(t);var i=o("e5e9"),a=o.n(i);for(var n in i)"default"!==n&&function(e){o.d(t,e,function(){return i[e]})}(n);t["default"]=a.a},"8c94":function(e,t,o){"use strict";(function(e){o("a24d"),o("921b");i(o("66fd"));var t=i(o("f98c"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},e5e9:function(e,t,o){"use strict";(function(e,o){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={onLoad:function(t){i=this,console.log(e(t," at pages/property_inspection/developer/simulate/problem_details.vue:125")),"1"!==t.state&&(i.changed=1),i.pdId=t.pdId,i.psId=t.psId,i.psName=t.psName,console.log(e("selfpdid:"+i.pdId," at pages/property_inspection/developer/simulate/problem_details.vue:132")),console.log(e(i.changed," at pages/property_inspection/developer/simulate/problem_details.vue:133")),o.getStorage({key:"cookies",success:function(t){i.cookies=t.data,console.log(e("监测获取到cookies值为:"+i.cookies," at pages/property_inspection/developer/simulate/problem_details.vue:138"))}});var a=getApp();o.request({url:a.globalData.ctx+"/home/problem/rs/problemdescribeList?pdId="+i.pdId,method:"POST",header:{"Content-type":"application/json",Cookie:i.cookies},data:{},success:function(t){console.log(e(t," at pages/property_inspection/developer/simulate/problem_details.vue:153")),i.getData=t.data.rows,"null"==i.getData.pdAdded&&(i.getData.pdAdded="无"),console.log(e(i.getData[0].pdPhotoa," at pages/property_inspection/developer/simulate/problem_details.vue:158")),i.piclista=i.getData[0].pdPhotoa.split(","),console.log(e(JSON.stringify(i.piclista[0])," at pages/property_inspection/developer/simulate/problem_details.vue:160")),console.log(e(JSON.stringify(i.piclista[1])," at pages/property_inspection/developer/simulate/problem_details.vue:161")),null!==i.getData[0].pdPhotob&&(i.piclistb=i.getData[0].pdPhotob.split(","))},fail:function(){},complete:function(){for(var t=0;t<i.piclista.length;t++)o.request({url:a.globalData.ctx+"/home/problem/rs/getFile?id="+i.piclista[t],method:"GET",header:{"Content-type":"application/json",Cookie:i.cookies},data:{},success:function(t){i.showPhotoa.push(t.data.filePath),console.log(e(i.showPhotoa," at pages/property_inspection/developer/simulate/problem_details.vue:182"))},fail:function(){},complete:function(){}});for(var n=0;n<i.piclistb.length;n++)o.request({url:a.globalData.ctx+"/home/problem/rs/getFile?id="+i.piclistb[n],method:"GET",header:{"Content-type":"application/json",Cookie:i.cookies},data:{},success:function(t){i.showPhotob.push(t.data.filePath),console.log(e(i.showPhotob," at pages/property_inspection/developer/simulate/problem_details.vue:201"))},fail:function(){},complete:function(){}})}})},onShow:function(){},data:function(){return{imgList:"",pdId:"",psId:"",psName:"",getData:[],changed:0,pic_index:0,pic:[],preview:[],vde_index:0,vde:[],id:[],vdecss:"position: fixed; top: 0; left: 0; width: 750upx; height: 750upx; z-index: 100; margin:0;",big:-1,vdebutton:" position: fixed; bottom: -250upx;width: 100%;",show:1,previewvde:-1,del:[],wh:"",takenotes:[1],note:1,piclista:[],showPhotoa:[],piclistb:[],showPhotob:[],uploadindex:0}},methods:{addPic:function(){o.chooseImage({count:5,sizeType:["original","compressed"],success:function(t){t.tempFilePaths.forEach(function(e){if(i.pic_index+i.vde_index>4)return o.showToast({title:"最多选五张",icon:"none"}),!1;i.pic[i.pic_index]=e,i.pic_index++}),console.log(e(i.pic_index," at pages/property_inspection/developer/simulate/problem_details.vue:261")),console.log(e(i.pic," at pages/property_inspection/developer/simulate/problem_details.vue:262"))}})},delPic:function(e){for(var t=i.pic_index-e,o=0;o<t;o++)i.pic[e+o]=i.pic[e+o+1],i.pic.splice(e+o+1,0);i.pic.pop(),i.pic_index--},previewPic:function(e){i.preview=i.pic,o.previewImage({current:e,urls:i.preview})},previewImg:function(e){i.preview=i.showPhotoa,o.previewImage({current:e,urls:i.preview})},previewImg2:function(e){i.preview=i.showPhotob,o.previewImage({current:e,urls:i.preview})},changeState:function(){void 0==i.pic[0]?o.showToast({title:"未添加复检图片",icon:"none",duration:2e3}):function(){for(var t=getApp(),a=0;a<i.pic.length;a++)o.uploadFile({url:t.globalData.ctx+"/common/uploadFileUnify",fileType:"image",header:{"Content-type":"application/x-www-form-urlencoded",Cookie:i.cookies},name:"files",filePath:i.pic[a],success:function(t){o.showToast({title:"上传成功"}),console.log(e(t.data," at pages/property_inspection/developer/simulate/problem_details.vue:320"));var a=JSON.parse(t.data).fileIds;i.imgList=i.imgList+a,console.log(e(i.imgList," at pages/property_inspection/developer/simulate/problem_details.vue:323")),i.uploadindex++},fail:function(){o.showToast({title:"上传失败"})},complete:function(){i.uploadindex==i.pic.length&&(i.imgList=i.imgList.substring(0,i.imgList.length-1),console.log(e(i.imgList," at pages/property_inspection/developer/simulate/problem_details.vue:334")),o.request({url:t.globalData.ctx+"/home/problem/rs/editProblemdescribeSave",header:{"Content-type":"application/json",Cookie:i.cookies},method:"post",data:{pdState:"2",pdId:i.pdId,pdPhotob:i.imgList,psId:i.psId},success:function(t){console.log(e(t," at pages/property_inspection/developer/simulate/problem_details.vue:349")),o.showToast({title:"上传成功",icon:"none"})},fail:function(){o.showToast({title:"数据请求错误",icon:"none"}),setTimeout(function(){o.hideToast()},1e3)},complete:function(){o.navigateBack({delta:1})}}))}})}()},noChangeState:function(){void 0==i.pic[0]&&o.showToast({title:"未添加复检图片",icon:"none",duration:2e3}),o.navigateBack({delta:1})},aaa:function(){console.log(e(i.changed," at pages/property_inspection/developer/simulate/problem_details.vue:395"))}}};t.default=a}).call(this,o("0de9")["default"],o("6e42")["default"])},ec88:function(e,t,o){"use strict";var i=o("15f7"),a=o.n(i);a.a},f98c:function(e,t,o){"use strict";o.r(t);var i=o("3748"),a=o("5420");for(var n in a)"default"!==n&&function(e){o.d(t,e,function(){return a[e]})}(n);o("ec88");var s=o("2877"),p=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=p.exports}},[["8c94","common/runtime","common/vendor"]]]);